<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes, viewport-fit=cover">
  <title>Arena Royale 2.4.0</title>
  <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Nunito:wght@600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<!-- Initial Loading Screen (shows immediately while game loads) -->
<div id="initialLoader" style="position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:99999;font-family:Arial,sans-serif">
  <div style="font-size:48px;margin-bottom:20px">âš”ï¸</div>
  <div style="color:#fff;font-size:24px;font-weight:bold;margin-bottom:10px">ARENA ROYALE</div>
  <div style="color:#888;font-size:14px;margin-bottom:30px">Loading...</div>
  <div style="width:200px;height:4px;background:rgba(255,255,255,0.2);border-radius:2px;overflow:hidden">
    <div id="loadProgress" style="width:0%;height:100%;background:linear-gradient(90deg,#00d4ff,#7b2fff);border-radius:2px;transition:width 0.3s"></div>
  </div>
</div>
<script>
(function(){
  var p=0,el=document.getElementById('loadProgress');
  var i=setInterval(function(){p+=Math.random()*15;if(p>90)p=90;if(el)el.style.width=p+'%';},100);
  window.addEventListener('DOMContentLoaded',function(){
    if(el)el.style.width='100%';
    setTimeout(function(){clearInterval(i);var l=document.getElementById('initialLoader');if(l)l.style.display='none';},200);
  });
})();
</script>
<div class="game-toast-container" id="toastContainer"></div>
<svg style="position:absolute;width:0;height:0">
  <defs>
    <linearGradient id="bpGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#9b59b6"/>
      <stop offset="100%" style="stop-color:#e056fd"/>
    </linearGradient>
  </defs>
</svg>
<!-- Login Screen -->
<div id="loginScreen" class="login-screen">
  <div class="login-box">
    <div class="game-logo">ARENA ROYALE</div>
    <div class="version">Multiplayer Edition v2.4.0</div>
    <div class="subtitle">ONLINE MULTIPLAYER</div>

    <div id="loginForm">
      <input type="text" id="loginUsername" placeholder="Username" maxlength="20" autocomplete="username">
      <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password">
      <button class="login-btn primary" onclick="doLogin()">LOGIN</button>
      <button class="login-btn secondary" onclick="showRegisterForm()">CREATE ACCOUNT</button>
      <div class="login-divider"><span>or</span></div>
      <button class="login-btn guest" onclick="doGuestLogin()">PLAY AS GUEST</button>
      <div class="login-warning">Guest progress may be lost without an account!</div>
    </div>

    <div id="registerForm" style="display:none">
      <input type="text" id="regUsername" placeholder="Choose Username" maxlength="20" autocomplete="username">
      <input type="password" id="regPassword" placeholder="Choose Password (6+ chars)" autocomplete="new-password">
      <input type="password" id="regConfirm" placeholder="Confirm Password" autocomplete="new-password">
      <button class="login-btn primary" onclick="doRegister()">CREATE ACCOUNT</button>
      <button class="login-btn guest" onclick="showLoginForm()">BACK TO LOGIN</button>
    </div>

    <div id="loginError" class="login-error"></div>
    <div id="connectionStatus" class="connection-status">
      <span class="status-dot connecting"></span> Connecting to server...
    </div>
  </div>
</div>

<!-- Matchmaking Overlay -->
<div id="matchmakingOverlay" class="matchmaking-overlay hidden">
  <div class="matchmaking-spinner"></div>
  <div class="matchmaking-text">Finding Opponent...</div>
  <div class="matchmaking-status" id="matchmakingStatus">Searching for players...</div>
  <button class="matchmaking-cancel" onclick="cancelMatchmaking()">CANCEL</button>
</div>

<!-- Online Status Indicator -->
<div id="onlineIndicator" class="online-indicator" style="display:none">
  <span class="status-dot online"></span>
  <span id="onlineCount">0 Online</span>
</div>

<div class="app">
  <div class="tabs">
    <div class="tab play-tab on" id="tabPlay">
      <div class="game-logo">ğŸ‘‘ ARENA ROYALE</div>
      <div class="version">Version 2.3.5 - Holiday & Battle Update</div>
      <div class="ranked-badge" id="rankedBadge" style="display:none">ğŸ”¥ RANKED MODE UNLOCKED</div>
      <div class="trophy-display">
        <div style="font-size:10px;color:#6b7c8a">TROPHIES</div>
        <div class="trophy-count">ğŸ† <span id="dispTr">0</span></div>
        <div class="trophy-limit">/ 1,000,000 MAX</div>
        <div class="arena-badge" id="dispArena">ğŸ£ Newbie</div>
      </div>
      <div id="compToggleBox" onclick="toggleCompMode()" style="position:absolute;top:10px;right:10px;background:linear-gradient(145deg,#1b2838,#243447);border:2px solid #ff0080;border-radius:10px;padding:8px 12px;cursor:pointer;z-index:10"><div style="font-size:8px;color:#ff0080;font-weight:900">MODE</div><div id="compToggleIcon" style="font-size:16px">ğŸ®</div><div id="compToggleLabel" style="font-size:7px;color:#fff;font-weight:800">NORMAL</div></div>
      <div id="compStats" style="display:none;background:linear-gradient(145deg,#ff0080,#cc0066);border:2px solid #fff;border-radius:12px;padding:10px;margin-bottom:10px;text-align:center"><div style="font-size:11px;font-weight:900;margin-bottom:5px">ğŸ”¥ COMPETITIVE MODE</div><div style="font-size:20px;font-weight:900">ğŸ† <span id="dispCompTr">0</span></div><div style="font-size:9px;margin-top:5px">Wins: <span id="dispCompW">0</span> | Losses: <span id="dispCompL">0</span></div></div>
      <div id="medalsStats" style="display:none;background:linear-gradient(145deg,#ffd700,#ff8c00);border:2px solid #fff;border-radius:12px;padding:10px;margin-bottom:10px;text-align:center"><div style="font-size:11px;font-weight:900;margin-bottom:5px;color:#000">ğŸ… MEDALS MODE</div><div style="font-size:20px;font-weight:900;color:#000">ğŸ–ï¸ <span id="dispMedals">0</span></div><div style="font-size:9px;margin-top:5px;color:#333">W: <span id="dispMedalsW">0</span> | L: <span id="dispMedalsL">0</span> | Best: <span id="dispMedalsHigh">0</span></div></div>
      <div class="mode-bar" style="display:flex;flex-wrap:wrap;gap:6px;justify-content:center;margin:10px 0;padding:8px;background:linear-gradient(145deg,#1b2838,#0d1b2a);border-radius:10px;border:1px solid #34495e">
        <div class="mode-chip active" id="modeNormal" onclick="setGameModeBtn('normal')" style="padding:6px 12px;background:linear-gradient(145deg,#27ae60,#1e8449);border-radius:20px;font-size:10px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:4px;border:2px solid transparent"><span>ğŸ®</span>1v1</div>
        <div class="mode-chip" id="mode2v2" onclick="setGameModeBtn('2v2')" style="padding:6px 12px;background:linear-gradient(145deg,#3498db,#2980b9);border-radius:20px;font-size:10px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:4px;border:2px solid transparent"><span>ğŸ‘¥</span>2v2</div>
        <div class="mode-chip" id="modeDraft" onclick="setGameModeBtn('draft')" style="padding:6px 12px;background:linear-gradient(145deg,#e67e22,#d35400);border-radius:20px;font-size:10px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:4px;border:2px solid transparent"><span>ğŸ²</span>DRAFT</div>
        <div class="mode-chip" id="modeChaos" onclick="setGameModeBtn('chaos')" style="padding:6px 12px;background:linear-gradient(145deg,#9b59b6,#8e44ad);border-radius:20px;font-size:10px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:4px;border:2px solid transparent"><span>ğŸ’¥</span>CHAOS</div>
        <div class="mode-chip" id="modeTest" onclick="setGameModeBtn('test')" style="padding:6px 12px;background:linear-gradient(145deg,#1abc9c,#16a085);border-radius:20px;font-size:10px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:4px;border:2px solid transparent"><span>ğŸ§ª</span>TEST</div>
        <div class="mode-chip" id="modeTourney" onclick="showTournaments()" style="padding:6px 12px;background:linear-gradient(145deg,#c0392b,#a93226);border-radius:20px;font-size:10px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:4px;border:2px solid transparent"><span>ğŸ†</span>TOURNEY</div>
        <div class="mode-chip" id="modeMedals" onclick="setGameModeBtn('medals')" style="padding:6px 12px;background:linear-gradient(145deg,#ffd700,#ff8c00);border-radius:20px;font-size:10px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:4px;color:#000;border:2px solid transparent"><span>ğŸ…</span>MEDALS</div>
      </div>
      <!-- Custom Game Modes -->
      <div id="customModeChips" style="display:flex;flex-wrap:wrap;gap:6px;justify-content:center;margin:6px 0"></div>
      <div id="partnerDisplay" style="display:none;margin:8px 0">
        <div class="partner-display"><div class="partner-icon">ğŸ¤–</div><div class="partner-name">AI Partner: <span id="partnerName">RoyalBot</span></div></div>
      </div>
      <button class="battle-btn" id="battleBtn" onclick="startBattle()">âš”ï¸ BATTLE!</button>
      <div id="queueOverlay" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.95);z-index:300;flex-direction:column;align-items:center;justify-content:center">
        <div style="font-size:48px;animation:pulse 1s infinite">ğŸ…</div>
        <div style="font-size:24px;font-weight:900;color:#ffd700;margin:20px 0">FINDING MATCH...</div>
        <div style="font-size:16px;color:#fff">Queue Time: <span id="queueTimer">0:00</span></div>
        <div style="width:200px;height:8px;background:#333;border-radius:4px;margin:20px 0;overflow:hidden"><div id="queueProgress" style="width:0%;height:100%;background:linear-gradient(90deg,#ffd700,#ff8c00);transition:width 0.5s"></div></div>
        <div style="font-size:12px;color:#888">Searching for opponents at your skill level...</div>
        <button onclick="cancelQueue()" style="margin-top:30px;padding:12px 30px;background:#e74c3c;border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">âŒ CANCEL</button>
      </div>
      <div class="quick-stats">
        <div class="quick-stat"><div class="quick-stat-val" id="dispW">0</div><div class="quick-stat-lbl">Wins</div></div>
        <div class="quick-stat"><div class="quick-stat-val" id="dispL">0</div><div class="quick-stat-lbl">Losses</div></div>
        <div class="quick-stat"><div class="quick-stat-val" id="dispC">0</div><div class="quick-stat-lbl">Crowns</div></div>
        <div class="quick-stat"><div class="quick-stat-val" id="dispStreak">0</div><div class="quick-stat-lbl">Streak</div></div>
      </div>
      <!-- Lucky Spin Wheel -->
      <div class="spin-banner" id="spinBanner">
        <div class="spin-header">
          <div class="spin-title">ğŸ° Lucky Spin</div>
          <div class="spin-free" id="spinFreeLabel">FREE!</div>
        </div>
        <div class="spin-wheel-container">
          <div class="spin-wheel" id="spinWheel"></div>
          <div class="spin-pointer">â–¼</div>
        </div>
        <button class="spin-btn" id="spinBtn" onclick="spinWheel()">ğŸ² SPIN!</button>
        <div class="spin-timer" id="spinTimer"></div>
      </div>
      <!-- Lucky Jackpot Button -->
      <div style="display:flex;gap:10px;justify-content:center;margin-top:15px;flex-wrap:wrap">
        <button onclick="showTreasureHunt()" style="background:linear-gradient(145deg,#27ae60,#1e8449);border:none;border-radius:12px;padding:12px 20px;color:#fff;font-weight:900;cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:0 4px 0 #145a32;font-size:14px">
          <span style="font-size:20px">ğŸ“¦</span> TREASURE <span style="font-size:11px;opacity:0.9">(25ğŸ’)</span>
        </button>
        <button onclick="showTitlesModal()" style="background:linear-gradient(145deg,#f39c12,#d68910);border:none;border-radius:12px;padding:12px 20px;color:#fff;font-weight:900;cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:0 4px 0 #8b6914;font-size:14px">
          <span style="font-size:20px">ğŸ·ï¸</span> TITLES
        </button>
      </div>
      <!-- Player Title Display -->
      <div style="text-align:center;margin-top:10px" id="playerTitleBadge"></div>
    </div>
    <div class="tab" id="tabCards">
      <div class="section">
        <div class="section-title">ğŸ´ DECK <span id="deckCount">0</span>/8</div>
        <div class="deck-tabs" id="deckTabs">
          <div class="deck-tab active" onclick="switchDeck(0)">Deck 1</div>
          <div class="deck-tab" onclick="switchDeck(1)">Deck 2</div>
          <div class="deck-tab" onclick="switchDeck(2)">Deck 3</div>
          <div class="deck-tab" onclick="switchDeck(3)">Deck 4</div>
          <div class="deck-tab" onclick="switchDeck(4)">Deck 5</div>
        </div>
        <div class="deck-row" id="deckSlots"></div>
        <div class="deck-btns">
          <button class="deck-btn blue" onclick="randomDeck()">ğŸ² Random</button>
          <button class="deck-btn red" onclick="clearDeck()">ğŸ—‘ï¸ Clear</button>
          <button class="deck-btn" onclick="showMetaDecksPopup()" style="background:linear-gradient(180deg,#9b59b6,#8e44ad)">ğŸ“‹ Meta</button>
        </div>
      </div>
      <div class="card-hint">ğŸ‘† Tap to add/remove â€¢ Hold for info</div>
      <div class="section"><div class="section-title" style="color:#ff6b35">âœ¨ EVOLUTION</div><div class="card-grid" id="evolutionGrid"></div></div>
      <div class="section"><div class="section-title" style="color:#00bcd4">ğŸ‘‘ CHAMPION</div><div class="card-grid" id="championGrid"></div></div>
      <div class="section"><div class="section-title" style="color:#e74c3c">ğŸ”¥ LEGENDARY</div><div class="card-grid" id="legendaryGrid"></div></div>
      <div class="section"><div class="section-title" style="color:#9b59b6">ğŸ’œ EPIC</div><div class="card-grid" id="epicGrid"></div></div>
      <div class="section"><div class="section-title" style="color:#f39c12">ğŸ§¡ RARE</div><div class="card-grid" id="rareGrid"></div></div>
      <div class="section"><div class="section-title" style="color:#95a5a6">ğŸ¤ COMMON</div><div class="card-grid" id="commonGrid"></div></div>
      <div class="section"><div class="section-title" style="color:#e74c3c">ğŸ° KING TOWER</div><div style="background:linear-gradient(135deg,#2c3e50,#34495e);padding:15px;border-radius:12px;margin-bottom:15px;text-align:center;color:#ecf0f1;"><div style="font-size:16px;margin-bottom:10px;">Level: <span id="kingLvlDisplay">1</span></div><div style="font-size:14px;margin-bottom:5px;">HP: <span id="kingHPDisplay">4000</span></div><div style="font-size:14px;margin-bottom:10px;">Damage: <span id="kingDMGDisplay">50</span></div><button style="background:#e74c3c;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-size:14px;cursor:pointer;" onclick="upgradeKingTower()">Upgrade (<span id="kingUpgradeCost">1000000</span> Gold)</button></div><div style="background:linear-gradient(135deg,#ff69b4,#ffb6c1);padding:15px;border-radius:12px;margin-bottom:15px;text-align:center;color:#fff;"><div style="font-size:16px;margin-bottom:10px;">Princess Level: <span id="princessLvlDisplay">1</span></div><div style="font-size:14px;margin-bottom:5px;">HP: <span id="princessHPDisplay">1500</span></div><div style="font-size:14px;margin-bottom:10px;">Damage: <span id="princessDMGDisplay">100</span></div><button style="background:#ff1493;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-size:14px;cursor:pointer;" onclick="upgradePrincess()">Upgrade (100000 Gold)</button></div></div>
    </div>
    <div class="tab" id="tabChests">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ“¦ CHESTS</div>
      <div class="currency-bar"><div class="currency-item gold">ğŸ’° <span id="dispGoldC">0</span></div><div class="currency-item gems">ğŸ’ <span id="dispGemsC">0</span></div></div>
      <div class="chest-count" id="chestCount">0/50 Chests</div>
      <div class="chest-slots" id="chestSlots"></div>
    </div>
    <div class="tab" id="tabShop">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ›’ SHOP</div>
      <div class="currency-bar"><div class="currency-item gold">ğŸ’° <span id="dispGoldS">0</span></div><div class="currency-item gems">ğŸ’ <span id="dispGemsS">0</span></div><div class="currency-item crystals">ğŸ’  <span id="dispCrystals">0</span></div></div>
      <div class="shop-grid" id="shopGrid"></div>
    </div>
    <div class="tab" id="tabRoad">
      <div class="trophy-road">
        <div class="trophy-road-title">ğŸ›¤ï¸ TROPHY ROAD</div>
        <div class="road-container" id="roadContainer"></div>
      </div>
    </div>
    <div class="tab" id="tabLeaderboard">
      <div style="display:flex;gap:6px;margin-bottom:10px">
        <button class="deck-btn" id="lbNormalBtn" onclick="setLbMode('normal')" style="flex:1;background:linear-gradient(180deg,var(--gold),var(--gold-dark))">ğŸ† NORMAL</button>
        <button class="deck-btn" id="lbCompBtn" onclick="setLbMode('comp')" style="flex:1;background:linear-gradient(180deg,#444,#333);opacity:0.7">ğŸ”¥ COMPETITIVE</button>
      </div>
      <div class="player-name-input"><input type="text" id="playerNameInput" placeholder="Enter your name..." maxlength="15" onchange="updatePlayerName()"></div>
      <div id="normalLbSection" class="leaderboard">
        <div class="lb-title">ğŸ† TOP 130 LEADERBOARD</div>
        <div id="lbList"></div>
      </div>
      <div id="compLbSection" class="leaderboard" style="display:none;border-color:#ff0080">
        <div class="lb-title" style="color:#ff0080">ğŸ”¥ COMPETITIVE TOP 100</div>
        <div style="background:linear-gradient(145deg,#ff0080,#cc0066);border-radius:8px;padding:8px;margin-bottom:10px;text-align:center;color:#fff"><div style="font-size:10px">Every win = +1 Win â€¢ Losses don't count!</div><div style="font-size:9px;opacity:0.9;margin-top:3px">Pure skill ranking - climb to #1!</div></div>
        <div id="compLbList"></div>
      </div>
    </div>
    <div class="tab" id="tabMedalsLB">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ… MEDALS LEADERBOARD</div>
      <div style="background:linear-gradient(145deg,#ffd700,#ff8c00);border-radius:12px;padding:12px;margin-bottom:15px;text-align:center;color:#000">
        <div style="font-size:12px;font-weight:900">YOUR MEDALS</div>
        <div style="font-size:28px;font-weight:900" id="medalsLbYourMedals">ğŸ… 0</div>
        <div style="font-size:10px;margin-top:5px">W: <span id="medalsLbWins">0</span> | L: <span id="medalsLbLosses">0</span> | Best: <span id="medalsLbBest">0</span></div>
      </div>
      <div class="leaderboard" style="border-color:#ffd700">
        <div class="lb-title" style="color:#ffd700">ğŸ… TOP 100 MEDALS</div>
        <div id="medalsLbList"></div>
      </div>
      <button onclick="goTab('Stats')" style="width:100%;padding:10px;margin-top:15px;background:linear-gradient(180deg,#555,#333);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">â† Back to More</button>
    </div>
    <div class="tab" id="tabStats">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ“Š MORE</div>
      <!-- Quick Navigation Grid -->
      <div class="more-nav-grid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:15px">
        <button class="more-nav-btn" onclick="goTab('Road')" style="background:linear-gradient(145deg,#f39c12,#d68910);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #8b6914">
          <span style="font-size:24px">ğŸ›¤ï¸</span>
          <span style="font-size:11px">TROPHY ROAD</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Leaderboard')" style="background:linear-gradient(145deg,#9b59b6,#8e44ad);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #6c3483">
          <span style="font-size:24px">ğŸ†</span>
          <span style="font-size:11px">LEADERBOARD</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('MedalsLB')" style="background:linear-gradient(145deg,#ffd700,#ff8c00);border:none;border-radius:10px;padding:15px 10px;color:#000;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #cc8800">
          <span style="font-size:24px">ğŸ…</span>
          <span style="font-size:11px">MEDALS LB</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Arena')" style="background:linear-gradient(145deg,#3498db,#2980b9);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #1a5276">
          <span style="font-size:24px">ğŸŸï¸</span>
          <span style="font-size:11px">ARENAS</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Wild')" style="background:linear-gradient(145deg,#e74c3c,#c0392b);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #922b21">
          <span style="font-size:24px">ğŸŒ€</span>
          <span style="font-size:11px">WILD ITEMS</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Daily')" style="background:linear-gradient(145deg,#27ae60,#229954);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #1e7e34">
          <span style="font-size:24px">ğŸ“…</span>
          <span style="font-size:11px">DAILY REWARDS</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Clan')" style="background:linear-gradient(145deg,#1abc9c,#16a085);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #0e6655">
          <span style="font-size:24px">ğŸ‘¥</span>
          <span style="font-size:11px">CLAN</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Emotes')" style="background:linear-gradient(145deg,#ff6b9d,#c44569);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #9b3654">
          <span style="font-size:24px">ğŸ˜€</span>
          <span style="font-size:11px">EMOTES</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Towers')" style="background:linear-gradient(145deg,#6c5ce7,#4834d4);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #3621a6">
          <span style="font-size:24px">ğŸ°</span>
          <span style="font-size:11px">TOWERS</span>
        </button>
        <button class="more-nav-btn" onclick="showPvpChallenge()" style="background:linear-gradient(145deg,#e74c3c,#c0392b);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #922b21;animation:pvpGlow 2s infinite">
          <span style="font-size:24px">âš”ï¸</span>
          <span style="font-size:11px">PVP CHALLENGE</span>
        </button>
        <button class="more-nav-btn" onclick="showPatchNotes()" style="background:linear-gradient(145deg,#00d4aa,#00a888);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #007766">
          <span style="font-size:24px">ğŸ“‹</span>
          <span style="font-size:11px">PATCH NOTES</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Workshop')" style="background:linear-gradient(145deg,#ff6b6b,#ee5a5a);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #cc4444;animation:workshopGlow 2s infinite">
          <span style="font-size:24px">ğŸ”®</span>
          <span style="font-size:11px">WILD WORKSHOP</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('StarShop')" style="background:linear-gradient(145deg,#ffd700,#ffaa00);border:none;border-radius:10px;padding:15px 10px;color:#1a1a2a;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #cc8800;animation:starGlow 2s infinite">
          <span style="font-size:24px">â­</span>
          <span style="font-size:11px">STAR SHOP</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Titles')" style="background:linear-gradient(145deg,#e056fd,#be2edd);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #8e24aa">
          <span style="font-size:24px">ğŸ·ï¸</span>
          <span style="font-size:11px">TITLES</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Meta')" style="background:linear-gradient(145deg,#00d4aa,#00a88a);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #008866">
          <span style="font-size:24px">ğŸ“‹</span>
          <span style="font-size:11px">META DECKS</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('Boss')" style="background:linear-gradient(145deg,#ff4757,#c0392b);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #8b0000;animation:bossGlow 2s infinite">
          <span style="font-size:24px">ğŸ‘¹</span>
          <span style="font-size:11px">BOSS BATTLE</span>
        </button>
        <button class="more-nav-btn" onclick="goTab('CashShop')" style="background:linear-gradient(145deg,#2ecc71,#27ae60);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #1e8449;animation:cashGlow 2s infinite">
          <span style="font-size:24px">ğŸ’µ</span>
          <span style="font-size:11px">CASH SHOP</span>
        </button>
        <button class="more-nav-btn" onclick="confirmLogout()" style="background:linear-gradient(145deg,#95a5a6,#7f8c8d);border:none;border-radius:10px;padding:15px 10px;color:#fff;font-weight:800;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:5px;box-shadow:0 4px 0 #566573">
          <span style="font-size:24px">ğŸšª</span>
          <span style="font-size:11px">LOGOUT</span>
        </button>
      </div>
      <!-- Stats Section -->
      <div class="section-title" style="text-align:center;font-size:14px;margin-bottom:8px;color:#888">ğŸ“Š STATISTICS</div>
      <div class="stats-grid" id="statsGrid"></div>
      <button class="admin-btn" onclick="openAdmin()">ğŸ”’ Developer Console</button>
    </div>
    <div class="tab" id="tabArena">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸŸï¸ ARENAS</div>
      <div id="arenaList" style="max-height:400px;overflow-y:auto;"></div>
    </div>
    <div class="tab" id="tabWild">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸŒ€ WILD COLLECTION</div>
      <div class="currency-bar"><div class="currency-item gold">ğŸ’° <span id="dispGoldW">0</span></div><div class="currency-item gems">ğŸ’ <span id="dispGemsW">0</span></div><div class="currency-item" style="color:#ff6b6b">ğŸŒ€ <span id="dispWildTokens">0</span></div></div>
      <div id="wildGrid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px"></div>
    </div>
    <div class="tab" id="tabWorkshop">
      <div class="workshop-header">
        <div class="workshop-title">ğŸ”® WILD CARD WORKSHOP</div>
        <div class="workshop-wild-count">
          <span class="wc-icon">ğŸƒ</span>
          <span class="wc-amount" id="workshopWildCount">0</span>
          <span style="font-size:12px;color:#888">Wild Cards</span>
        </div>
      </div>
      <div class="workshop-grid">
        <div class="workshop-station forge" onclick="openWorkshopModal('forge')">
          <div class="ws-icon">âš’ï¸</div>
          <div class="ws-name">CARD FORGE</div>
          <div class="ws-desc">Convert Wild Cards into specific card shards</div>
          <div class="ws-cost">ğŸƒ 10 Wild Cards</div>
        </div>
        <div class="workshop-station summon" onclick="openWorkshopModal('summon')">
          <div class="ws-icon">âœ¨</div>
          <div class="ws-name">WILD SUMMON</div>
          <div class="ws-desc">Summon random cards from the void!</div>
          <div class="ws-cost">ğŸƒ 5 Wild Cards</div>
        </div>
        <div class="workshop-station boost" onclick="openWorkshopModal('boost')">
          <div class="ws-icon">âš¡</div>
          <div class="ws-name">POWER BOOST</div>
          <div class="ws-desc">Get temporary battle power-ups</div>
          <div class="ws-cost">ğŸƒ 3-15 Wild Cards</div>
        </div>
        <div class="workshop-station transmute" onclick="openWorkshopModal('transmute')">
          <div class="ws-icon">ğŸ”„</div>
          <div class="ws-name">TRANSMUTER</div>
          <div class="ws-desc">Convert card shards to other cards</div>
          <div class="ws-cost">ğŸƒ 8 Wild Cards</div>
        </div>
      </div>
      <div class="section" style="margin-top:10px">
        <div class="section-title">ğŸ“Š WORKSHOP STATS</div>
        <div id="workshopStats" style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;font-size:11px"></div>
      </div>
      <div class="section" style="margin-top:10px">
        <div class="section-title">ğŸ ACTIVE BOOSTS</div>
        <div id="activeBoosts" style="font-size:11px;color:#888;text-align:center;padding:10px">No active boosts</div>
      </div>
    </div>
    <!-- Workshop Modals -->
    <div class="workshop-modal" id="workshopModal">
      <div class="workshop-modal-content" style="position:relative">
        <button class="workshop-close" onclick="closeWorkshopModal()">âœ–</button>
        <div id="workshopModalBody"></div>
      </div>
    </div>
    <div class="tab" id="tabStarShop">
      <div class="starshop-header">
        <div class="starshop-title">â­ STAR POINTS SHOP</div>
        <div class="starshop-balance">â­ <span id="starShopBalance">0</span> Star Points</div>
      </div>
      <div class="section" style="margin:10px 0">
        <div style="font-size:11px;color:#888;text-align:center;padding:8px;background:linear-gradient(145deg,#1a2535,#243447);border-radius:8px">ğŸ’¡ Earn Star Points from battles, achievements, card mastery, and weekly quests!</div>
      </div>
      <div class="starshop-grid" id="starShopGrid"></div>
      <div class="section" style="margin-top:15px">
        <div class="section-title" style="font-size:14px;color:#ffd700">ğŸ“Š EARNING RATES</div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;font-size:11px;color:#aaa">
          <div style="background:#1a2535;padding:8px;border-radius:8px">âš”ï¸ Battle Win: <span style="color:#ffd700">+10-30 â­</span></div>
          <div style="background:#1a2535;padding:8px;border-radius:8px">ğŸ¯ Card Mastery: <span style="color:#ffd700">+100 â­</span></div>
          <div style="background:#1a2535;padding:8px;border-radius:8px">ğŸ“œ Weekly Quest: <span style="color:#ffd700">+150-200 â­</span></div>
          <div style="background:#1a2535;padding:8px;border-radius:8px">ğŸ† Achievements: <span style="color:#ffd700">+50-500 â­</span></div>
        </div>
      </div>
    </div>
    <div class="tab" id="tabDaily">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ“… DAILY REWARDS</div>
      <div id="dailyGrid" style="display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-bottom:15px"></div>
      <div id="dailyClaimBtn" style="text-align:center"></div>
      <div class="section" style="margin-top:15px">
        <div class="section-title">ğŸ¯ DAILY CHALLENGES</div>
        <div id="challengeList"></div>
      </div>
      <div class="section" style="margin-top:15px">
        <div class="section-title">ğŸ… ACHIEVEMENTS</div>
        <div id="achievementList"></div>
      </div>
      <div class="section" style="margin-top:15px">
        <div class="section-title">ğŸ“œ WEEKLY QUESTS</div>
        <div id="weeklyQuestList"></div>
      </div>
    </div>
    <div class="tab" id="tabClan">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">âš”ï¸ CLAN</div>
      <div id="clanContent">
        <div id="noClan" style="text-align:center;padding:20px">
          <div style="font-size:40px;margin-bottom:10px">ğŸ°</div>
          <div style="font-size:14px;font-weight:800;margin-bottom:10px">Join or Create a Clan!</div>
          <button onclick="createClan()" style="padding:10px 20px;background:linear-gradient(180deg,var(--gold),var(--gold-dark));border:none;border-radius:10px;color:#fff;font-weight:800;cursor:pointer;margin:5px">ğŸ° Create Clan</button>
          <button onclick="joinRandomClan()" style="padding:10px 20px;background:linear-gradient(180deg,var(--blue),#2475ab);border:none;border-radius:10px;color:#fff;font-weight:800;cursor:pointer;margin:5px">ğŸ” Find Clan</button>
        </div>
        <div id="inClan" style="display:none">
          <div class="clan-card" id="clanInfo"></div>
          <div class="section"><div class="section-title">ğŸ’¬ Clan Chat</div><div id="clanChat" style="max-height:150px;overflow-y:auto;background:#1a2535;border-radius:8px;padding:8px;margin-bottom:8px"></div><div style="display:flex;gap:5px"><input type="text" id="chatInput" placeholder="Type a message..." style="flex:1;padding:8px;border-radius:8px;border:1px solid #3a4a5a;background:#243447;color:#fff;font-size:11px"><button onclick="sendClanChat()" style="padding:8px 12px;background:var(--gold);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">Send</button></div></div>
          <div class="section"><div class="section-title">ğŸ“¢ Clan Mail</div><div id="clanMail" style="background:#1a2535;border-radius:8px;padding:10px;font-size:11px"></div></div>
          <div class="section" id="joinRequestsSection" style="display:none"><div class="section-title">ğŸ“¨ Join Requests <span id="joinRequestCount" style="background:#e74c3c;color:#fff;border-radius:10px;padding:2px 6px;font-size:9px;margin-left:5px">0</span></div><div id="joinRequestsList" style="max-height:150px;overflow-y:auto"></div></div>
          <div class="section"><div class="section-title">ğŸ‘¥ Members <span id="memberCount" style="color:#6b7c8a;font-size:10px"></span></div><div id="clanMembers"></div><div style="margin-top:8px;display:flex;gap:5px"><button onclick="showMemberManagement()" style="flex:1;padding:8px;background:linear-gradient(180deg,#3498db,#2980b9);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer;font-size:10px">ğŸ‘‘ Manage</button><button onclick="challengeClanmate()" style="flex:1;padding:8px;background:linear-gradient(180deg,#9b59b6,#8e44ad);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer;font-size:10px">âš”ï¸ Friendly</button></div></div>
          <div class="section"><div class="section-title">ğŸ Card Donations</div><div id="donationRequests"></div><button onclick="requestDonation()" style="width:100%;padding:8px;background:linear-gradient(180deg,#27ae60,#1e8449);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer;margin-top:8px;font-size:11px">ğŸ“¤ Request Cards</button></div>
          <div class="section"><div class="section-title">ğŸ† Clan Level</div><div id="clanLevel" style="background:#1a2535;border-radius:8px;padding:10px"></div></div>
          <div class="section"><div class="section-title">ğŸ® Clan Games</div><div id="clanGames" style="background:#1a2535;border-radius:8px;padding:10px"></div></div>
          <div class="section"><div class="section-title">ğŸ“¦ Clan Chest</div><div id="clanChest" style="background:#1a2535;border-radius:8px;padding:10px;text-align:center"></div></div>
          <div class="section"><div class="section-title">ğŸ… Clan Perks</div><div id="clanPerks" style="display:grid;grid-template-columns:1fr 1fr;gap:8px"></div></div>
          <div class="section"><div class="section-title">ğŸŒ Clan League</div><div id="clanLeague" style="background:#1a2535;border-radius:8px;padding:10px;text-align:center"></div></div>
          <div class="section"><div class="section-title">âš”ï¸ Clan War</div><div id="clanWar"></div></div>
          <div class="section"><div class="section-title">ğŸ° Clan Settings</div><div id="clanSettings" style="display:grid;gap:8px"></div></div>
          <button onclick="leaveClan()" style="width:100%;padding:10px;background:linear-gradient(180deg,var(--red),#b83227);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer;margin-top:10px">Leave Clan</button>
        </div>
      </div>
    </div>
    <div class="tab" id="tabEmotes">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ˜€ EMOTES</div>
      <div style="text-align:center;margin-bottom:15px">
        <div style="font-size:11px;color:#888;margin-bottom:8px">Your Emote Deck (used in battle)</div>
        <div id="emoteDeck" style="display:flex;justify-content:center;gap:8px;margin-bottom:10px"></div>
      </div>
      <div class="section">
        <div class="section-title">ğŸ”“ Unlocked Emotes</div>
        <div id="unlockedEmotesGrid" style="display:grid;grid-template-columns:repeat(5,1fr);gap:8px"></div>
      </div>
      <div class="section" style="margin-top:10px">
        <div class="section-title">ğŸ”’ Locked Emotes</div>
        <div id="lockedEmotesGrid" style="display:grid;grid-template-columns:repeat(5,1fr);gap:8px"></div>
      </div>
      <button onclick="goTab('Stats')" style="width:100%;padding:10px;margin-top:15px;background:linear-gradient(180deg,#555,#333);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">â† Back to More</button>
    </div>
    <div class="tab" id="tabTitles">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ·ï¸ PLAYER TITLES</div>
      <div style="text-align:center;margin-bottom:15px">
        <div style="font-size:11px;color:#888;margin-bottom:8px">Currently Equipped</div>
        <div id="equippedTitleDisplay" style="display:flex;justify-content:center"></div>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding:8px;background:linear-gradient(145deg,#1b2838,#0d1b2a);border-radius:8px">
        <div style="font-size:12px;color:#fff">Titles Unlocked:</div>
        <div style="font-size:14px;font-weight:900;color:#ffd700" id="titlesUnlockedCount">0/45</div>
      </div>
      <div class="section">
        <div class="section-title">ğŸ”“ Unlocked Titles</div>
        <div id="unlockedTitlesGrid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;max-height:200px;overflow-y:auto;padding-right:5px"></div>
      </div>
      <div class="section" style="margin-top:10px">
        <div class="section-title">ğŸ”’ Locked Titles</div>
        <div id="lockedTitlesGrid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;max-height:300px;overflow-y:auto;padding-right:5px"></div>
      </div>
      <button onclick="goTab('Stats')" style="width:100%;padding:10px;margin-top:15px;background:linear-gradient(180deg,#555,#333);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">â† Back to More</button>
    </div>
    <div class="tab" id="tabMeta">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ“‹ META DECK TIER LIST</div>
      <div style="text-align:center;margin-bottom:15px;padding:10px;background:linear-gradient(145deg,#1b2838,#0d1b2a);border-radius:10px">
        <div style="font-size:11px;color:#888;margin-bottom:5px">Current Meta Season</div>
        <div style="font-size:16px;font-weight:900;color:#00d4aa">Season 15 - Dragon's Fury</div>
      </div>
      <div id="metaTierList" style="max-height:calc(100vh - 250px);overflow-y:auto;padding-right:5px"></div>
      <button onclick="goTab('Stats')" style="width:100%;padding:10px;margin-top:15px;background:linear-gradient(180deg,#555,#333);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">â† Back to More</button>
    </div>
    <div class="tab" id="tabBoss">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ‘¹ BOSS BATTLE</div>
      <div class="currency-bar">
        <div class="currency-item" style="color:#ff4757">ğŸ‘¹ <span id="bossTokensDisplay">0</span> Boss Tokens</div>
      </div>
      <div id="currentBossSection"></div>
      <div class="section-title" style="margin-top:15px;margin-bottom:10px">ğŸ† Boss Rewards</div>
      <div id="bossRewardsSection" style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px"></div>
      <div class="section-title" style="margin-top:15px;margin-bottom:10px">ğŸ“œ Defeated Bosses</div>
      <div id="defeatedBossesSection"></div>
      <button onclick="goTab('Stats')" style="width:100%;padding:10px;margin-top:15px;background:linear-gradient(180deg,#555,#333);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">â† Back to More</button>
    </div>
    <div class="tab" id="tabCashShop">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:5px">ğŸ’µ CASH SHOP</div>
      <div style="text-align:center;margin-bottom:10px">
        <div style="display:inline-block;background:linear-gradient(145deg,#2ecc71,#27ae60);padding:8px 20px;border-radius:20px;font-weight:900;font-size:14px">ğŸ’µ Balance: $<span id="cashBalanceDisplay">0.00</span></div>
      </div>
      <div style="display:flex;gap:5px;flex-wrap:wrap;justify-content:center;margin-bottom:10px">
        <button onclick="filterCashShop('all')" class="cash-filter active" id="cashFilterAll">All</button>
        <button onclick="filterCashShop('gems')" class="cash-filter" id="cashFilterGems">ğŸ’ Gems</button>
        <button onclick="filterCashShop('gold')" class="cash-filter" id="cashFilterGold">ğŸ’° Gold</button>
        <button onclick="filterCashShop('chests')" class="cash-filter" id="cashFilterChests">ğŸ“¦ Chests</button>
        <button onclick="filterCashShop('bundles')" class="cash-filter" id="cashFilterBundles">ğŸ Bundles</button>
        <button onclick="filterCashShop('skins')" class="cash-filter" id="cashFilterSkins">ğŸ¨ Skins</button>
        <button onclick="filterCashShop('passes')" class="cash-filter" id="cashFilterPasses">ğŸ‘‘ Passes</button>
        <button onclick="filterCashShop('boosters')" class="cash-filter" id="cashFilterBoosters">âš¡ Boosters</button>
        <button onclick="filterCashShop('special')" class="cash-filter" id="cashFilterSpecial">âœ¨ Special</button>
      </div>
      <div id="cashShopGrid" style="display:grid;grid-template-columns:repeat(3, 1fr);gap:10px;padding:5px"></div>
      <button onclick="goTab('Stats')" style="width:100%;padding:10px;margin-top:15px;background:linear-gradient(180deg,#555,#333);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">â† Back to More</button>
    </div>
    <div class="tab" id="tabTowers">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ° TOWER SKINS</div>
      <div style="text-align:center;margin-bottom:15px">
        <div style="font-size:11px;color:#888;margin-bottom:8px">Currently Equipped</div>
        <div id="equippedTowerDisplay" style="display:flex;justify-content:center"></div>
      </div>
      <div class="section">
        <div class="section-title">ğŸ”“ Unlocked Skins</div>
        <div id="unlockedTowerGrid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px"></div>
      </div>
      <div class="section" style="margin-top:10px">
        <div class="section-title">ğŸ”’ Locked Skins</div>
        <div id="lockedTowerGrid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px"></div>
      </div>
      <button onclick="goTab('Stats')" style="width:100%;padding:10px;margin-top:15px;background:linear-gradient(180deg,#555,#333);border:none;border-radius:8px;color:#fff;font-weight:800;cursor:pointer">â† Back to More</button>
    </div>
    <div class="tab" id="tabPass">
      <div class="pass-royale-header">
        <div class="pass-logo">ğŸ‘‘ PASS ROYALE</div>
        <div class="pass-season-name" id="passSeasonName">SEASON 1: ROYAL DAWN</div>
        <div class="pass-timer" id="passTimer">29 days remaining</div>
      </div>

      <!-- Premium Status Banner -->
      <div class="premium-status" id="premiumStatus">
        <div class="premium-badge" id="premiumBadge">ğŸ†“ FREE PASS</div>
        <div class="premium-perks-preview" id="perksPreview">Unlock Premium for exclusive rewards!</div>
      </div>

      <!-- Crown Chest Progress -->
      <div class="crown-chest-section">
        <div class="crown-chest-header">
          <span>ğŸ‘‘ Crown Chest</span>
          <span id="crownProgress">0/10</span>
        </div>
        <div class="crown-chest-bar">
          <div class="crown-chest-fill" id="crownChestFill" style="width:0%"></div>
          <div class="crown-markers">
            <div class="crown-marker" style="left:20%">2</div>
            <div class="crown-marker" style="left:40%">4</div>
            <div class="crown-marker" style="left:60%">6</div>
            <div class="crown-marker" style="left:80%">8</div>
            <div class="crown-marker" style="left:100%">10</div>
          </div>
        </div>
        <button class="crown-chest-btn" id="crownChestBtn" onclick="openCrownChest()" disabled>ğŸ Open Crown Chest</button>
      </div>

      <!-- Level & XP Display -->
      <div class="bp-level-display">
        <div class="bp-level-ring">
          <div class="bp-level-num" id="bpLevelBig">1</div>
          <svg class="bp-level-circle" viewBox="0 0 100 100">
            <circle class="bp-circle-bg" cx="50" cy="50" r="45"/>
            <circle class="bp-circle-fill" id="bpCircleFill" cx="50" cy="50" r="45"/>
          </svg>
        </div>
        <div class="bp-xp-info">
          <div class="bp-xp-text"><span id="bpXpCurrent">0</span> / <span id="bpXpMax">100</span> XP</div>
          <div class="bp-xp-bar-new"><div class="bp-xp-fill-new" id="bpXpFillNew" style="width:0%"></div></div>
          <div class="bp-bonus-xp" id="bpBonusXp" style="display:none">ğŸ”¥ +25% Bonus XP Active!</div>
        </div>
      </div>

      <!-- Track Toggle -->
      <div class="bp-track-toggle">
        <button class="bp-toggle-btn active" id="bpToggleFree" onclick="setBpTrack('free')">
          <span class="toggle-icon">ğŸ†“</span>
          <span class="toggle-label">FREE TRACK</span>
        </button>
        <button class="bp-toggle-btn" id="bpTogglePrem" onclick="setBpTrack('premium')">
          <span class="toggle-icon">ğŸ‘‘</span>
          <span class="toggle-label">ROYALE TRACK</span>
          <span class="toggle-lock" id="premLock">ğŸ”’</span>
        </button>
      </div>

      <!-- Rewards Track -->
      <div class="bp-rewards-container">
        <div class="bp-rewards-track" id="bpRewardsTrack"></div>
      </div>

      <!-- Strike Bonus -->
      <div class="strike-bonus-section">
        <div class="strike-header">ğŸ”¥ Daily Strike Bonus</div>
        <div class="strike-days" id="strikeDays"></div>
        <div class="strike-reward" id="strikeReward">Play daily to earn bonus rewards!</div>
      </div>

      <!-- Premium Perks -->
      <div class="premium-perks-section" id="premiumPerksSection">
        <div class="perks-title">ğŸ‘‘ PASS ROYALE PERKS</div>
        <div class="perks-grid">
          <div class="perk-item"><div class="perk-icon">â­ï¸</div><div class="perk-name">Instant Chest Unlock</div></div>
          <div class="perk-item"><div class="perk-icon">â™¾ï¸</div><div class="perk-name">Unlimited Re-entries</div></div>
          <div class="perk-item"><div class="perk-icon">ğŸ¨</div><div class="perk-name">Exclusive Tower Skin</div></div>
          <div class="perk-item"><div class="perk-icon">ğŸ˜</div><div class="perk-name">Exclusive Emotes</div></div>
          <div class="perk-item"><div class="perk-icon">ğŸƒ</div><div class="perk-name">Royal Wild Card</div></div>
          <div class="perk-item"><div class="perk-icon">ğŸ’°</div><div class="perk-name">+20% Gold Boost</div></div>
          <div class="perk-item"><div class="perk-icon">â­</div><div class="perk-name">+25% XP Boost</div></div>
          <div class="perk-item"><div class="perk-icon">ğŸ“¦</div><div class="perk-name">Chest Queue (2)</div></div>
        </div>
      </div>

      <!-- Buy Premium Button -->
      <button class="buy-pass-btn" id="buyPassBtn" onclick="buyBattlePass()">
        <div class="buy-pass-content">
          <span class="buy-pass-icon">ğŸ‘‘</span>
          <div class="buy-pass-text">
            <div class="buy-pass-title">UNLOCK PASS ROYALE</div>
            <div class="buy-pass-price">ğŸ’ 1000 Gems</div>
          </div>
        </div>
        <div class="buy-pass-bonus">+35 Premium Rewards!</div>
      </button>

      <!-- Exclusive Rewards Preview -->
      <div class="exclusive-rewards" id="exclusiveRewards">
        <div class="exclusive-title">âœ¨ EXCLUSIVE SEASON REWARDS</div>
        <div class="exclusive-grid" id="exclusiveGrid"></div>
      </div>
    </div>
    <div class="tab" id="tabLog">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ“œ BATTLE LOG</div>
      <div id="battleLogList"></div>
    </div>
    <div class="tab" id="tabSkins">
      <div class="section-title" style="text-align:center;font-size:18px;margin-bottom:10px">ğŸ¨ TOWER SKINS</div>
      <div class="currency-bar"><div class="currency-item gold">â­ <span id="dispStarPoints">0</span> Star Points</div></div>
      <div class="section"><div class="section-title">ğŸ° King Tower</div><div id="kingTowerSkins"></div></div>
      <div class="section"><div class="section-title">ğŸ¯ Princess Tower</div><div id="princessTowerSkins"></div></div>
    </div>
  </div>
  <nav class="nav">
    <button class="nav-btn on" onclick="goTab('Play')"><span class="icon">âš”ï¸</span><span class="label">Battle</span></button>
    <button class="nav-btn" onclick="goTab('Cards')"><span class="icon">ğŸ´</span><span class="label">Cards</span></button>
    <button class="nav-btn" onclick="goTab('Clan')"><span class="icon">âš”ï¸</span><span class="label">Clan</span></button>
    <button class="nav-btn" onclick="goTab('Pass')"><span class="icon">ğŸ«</span><span class="label">Pass</span><span class="notif" id="passNotif" style="display:none">!</span></button>
    <button class="nav-btn" onclick="goTab('Shop')"><span class="icon">ğŸ›’</span><span class="label">Shop</span></button>
    <button class="nav-btn" onclick="goTab('Chests')"><span class="icon">ğŸ“¦</span><span class="label">Chests</span><span class="notif" id="chestNotif" style="display:none">!</span></button>
    <button class="nav-btn" onclick="goTab('Log')"><span class="icon">ğŸ“œ</span><span class="label">Log</span></button>
    <button class="nav-btn" onclick="goTab('Stats')"><span class="icon">ğŸ“Š</span><span class="label">More</span></button>
  </nav>
</div>
<div id="battle"><div class="battle-header"><button class="quit-btn" onclick="quitBattle()">ğŸ³ï¸ Quit</button><div class="battle-info"><div class="crown-display red">ğŸ‘‘ <span id="aiCrowns">0</span></div><div class="battle-timer" id="timer">3:00</div><div class="crown-display blue">ğŸ‘‘ <span id="myCrowns">0</span></div></div><div id="botLbl" style="font-size:10px">Bot</div></div><div class="arena-wrap"><div id="arena"></div></div></div>
<div class="modal" id="cardModal"><div class="modal-box" id="cardModalBox"></div></div>
<div class="modal" id="upgradeModal"><div class="modal-box" id="upgradeModalBox"></div></div>
<div class="modal" id="rankUpModal"><div class="modal-box" id="rankUpModalBox"></div></div>
<div class="admin-modal" id="adminModal">
  <div class="admin-box">
    <div class="admin-title">âš¡ DEV CONSOLE</div>
    <div class="admin-subtitle">AUTHORIZED ACCESS ONLY</div>
    <div class="lock-screen" id="lockScreen">
      <div class="lock-icon">ğŸ”</div>
      <div style="color:#666;font-size:11px;margin-bottom:10px">Enter Access Code</div>
      <div class="code-inputs">
        <input type="text" maxlength="1" id="code1" data-real="" oninput="codeInputHash(1)" style="font-family:monospace">
        <input type="text" maxlength="1" id="code2" data-real="" oninput="codeInputHash(2)" style="font-family:monospace">
        <input type="text" maxlength="1" id="code3" data-real="" oninput="codeInputHash(3)" style="font-family:monospace">
        <input type="text" maxlength="1" id="code4" data-real="" oninput="codeInputHash(4)" style="font-family:monospace">
      </div>
      <button class="unlock-btn" onclick="tryUnlock()">ğŸ”“ UNLOCK</button>
    </div>
    <div class="admin-content" id="adminContent">
      <div class="admin-section" style="background:linear-gradient(135deg,rgba(155,89,182,0.3),rgba(142,68,173,0.3));border:2px solid #9b59b6">
        <div class="admin-section-title">ğŸ¯ TARGET PLAYER</div>
        <div style="font-size:8px;color:#888;margin-bottom:6px;text-align:center">Select a player to edit their data (default: yourself)</div>
        <div class="admin-row">
          <select id="adminTargetPlayer" style="flex:2" onchange="onTargetPlayerChange()">
            <option value="">ğŸ‘¤ Myself</option>
          </select>
          <button class="purple" onclick="refreshAdminPlayerList()">ğŸ”„</button>
        </div>
        <div id="targetPlayerInfo" style="font-size:9px;color:#9b59b6;text-align:center;margin-top:4px;display:none"></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">ğŸ’° RESOURCES</div>
        <div class="admin-row"><input type="number" id="admTr" placeholder="Trophies"><button class="pink" onclick="setTrophies()">SET</button></div>
        <div class="admin-row"><input type="number" id="admGold" placeholder="Gold"><button class="pink" onclick="setGold()">SET</button></div>
        <div class="admin-row"><input type="number" id="admGems" placeholder="Gems"><button class="purple" onclick="setGems()">SET</button></div>
        <div class="admin-row"><input type="number" id="admCrystals" placeholder="Crystals"><button class="cyan" onclick="setCrystals()">SET</button></div>
        <div class="admin-row"><input type="number" id="admTrophyGain" placeholder="Trophies per win"><button class="pink" onclick="setTrophyGain()">SET</button></div>
        <div class="admin-row"><input type="number" id="admMedals" placeholder="Medals"><button onclick="setMedals()" style="background:linear-gradient(180deg,#ffd700,#ff8c00);color:#000">ğŸ… SET</button></div>
        <div class="admin-row"><input type="number" id="admWildCards" placeholder="Wild Cards"><button onclick="setWildCards()" style="background:linear-gradient(180deg,#a855f7,#7c3aed);color:#fff">ğŸƒ SET</button></div>
        <div class="admin-row"><input type="number" id="admStarPoints" placeholder="Star Points"><button onclick="setStarPoints()" style="background:linear-gradient(180deg,#ffd700,#ff8c00);color:#000">â­ SET</button></div>
        <div class="admin-row"><input type="number" id="admCashBalance" placeholder="Cash Balance $"><button onclick="setCashBalance()" style="background:linear-gradient(180deg,#2ecc71,#27ae60);color:#fff">ğŸ’µ SET</button></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">ğŸ“¦ CHESTS</div>
        <div class="admin-row"><button class="purple" onclick="addAdminChest('silver')">ğŸ“¦ Silver</button><button class="purple" onclick="addAdminChest('gold')">ğŸ Gold</button></div>
        <div class="admin-row"><button class="purple" onclick="addAdminChest('magic')">âœ¨ Magic</button><button class="purple" onclick="addAdminChest('giant')">ğŸ† Giant</button></div>
        <div class="admin-row"><button class="purple" onclick="addAdminChest('legendary')">ğŸ‘‘ Legend</button><button class="purple" onclick="addAdminChest('super')">ğŸ’ Super</button></div>
        <div class="admin-row"><button class="cyan full" onclick="fillAllChests()">ğŸ“¦ FILL ALL 50 SLOTS</button></div>
        <div class="admin-row"><button class="red full" onclick="clearAllChests()">ğŸ—‘ï¸ CLEAR ALL CHESTS</button></div>
        <div class="admin-row"><button class="orange full" onclick="skipAllChests()">â­ï¸ SKIP ALL TIMERS</button></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">ğŸ´ CARDS - UNLOCK</div>
        <div class="admin-row"><button class="cyan full" onclick="unlockAll()">ğŸ”“ UNLOCK ALL CARDS</button></div>
        <div class="admin-row"><select id="unlockCardSelect"></select><button class="cyan" onclick="unlockSingle()">UNLOCK</button></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">â¬†ï¸ CARDS - LEVELS</div>
        <div class="admin-row"><input type="number" id="maxLevelInput" placeholder="Max Level" value="25" style="max-width:60px"><button class="orange full" onclick="maxAllCards()">â¬†ï¸ MAX ALL (5K ğŸ’°)</button></div>
        <div class="admin-row"><select id="levelCardSelect"></select><input type="number" id="levelInput" placeholder="Lv" min="1" style="max-width:40px"><button class="orange" onclick="setCardLevel()">SET</button></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">âœ¨ CARDS - SHARDS</div>
        <div class="admin-row"><button class="pink" onclick="addShardsAll(100)">+100 ALL</button><button class="pink" onclick="addShardsAll(500)">+500 ALL</button><button class="pink" onclick="addShardsAll(1000)">+1000 ALL</button></div>
        <div class="admin-row"><select id="shardCardSelect"></select><input type="number" id="shardInput" placeholder="Amt" style="max-width:50px"><button class="pink" onclick="addShardsSingle()">ADD</button></div>
      </div>
            <div class="admin-section">
        <div class="admin-section-title">ğŸ›¤ï¸ TROPHY ROAD</div>
        <div class="admin-row"><button class="cyan full" onclick="claimAllRoad()">âœ… CLAIM ALL REWARDS</button></div>
        <div class="admin-row"><button class="orange full" onclick="resetRoad()">ğŸ”„ RESET ROAD CLAIMS</button></div>
      </div>
      <div class="admin-section" style="background:linear-gradient(135deg,rgba(46,204,113,0.3),rgba(39,174,96,0.3));border:2px solid #2ecc71">
        <div class="admin-section-title">ğŸ’¸ SEND RESOURCES</div>
        <div style="font-size:8px;color:#888;margin-bottom:6px;text-align:center">Send gold, gems, or other resources to another player</div>
        <div class="admin-row"><input type="text" id="sendRecipient" placeholder="Recipient Username" style="flex:2"></div>
        <div class="admin-row">
          <select id="sendResourceType">
            <option value="gold">ğŸ’° Gold</option>
            <option value="gems">ğŸ’ Gems</option>
            <option value="crystals">ğŸ”® Crystals</option>
            <option value="star_points">â­ Star Points</option>
          </select>
          <input type="number" id="sendAmount" placeholder="Amount" style="max-width:80px">
        </div>
        <div class="admin-row"><button class="full" onclick="sendResourcesToPlayer()" style="background:linear-gradient(180deg,#2ecc71,#27ae60);color:#fff">ğŸ“¤ SEND</button></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">âš”ï¸ BATTLE SETTINGS</div>
        <div class="admin-row"><input type="number" id="admBotLevel" placeholder="Bot Level (1-13)" min="1" max="13" value="1"><button class="pink" onclick="setBotLevel()">ğŸ¤– SET BOT LVL</button></div>
        <div class="admin-row"><button class="cyan full" onclick="P.forceBotLevel=null;save();showNotify('Bot level reset to auto','info');updateBotLvlDisplay();">ğŸ”„ RESET TO AUTO</button></div>
        <div style="font-size:8px;color:#666;margin-top:4px;text-align:center">Current: <span id="currentBotLvl">Auto</span></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">ğŸ´ CUSTOM CARD CREATOR</div>
        <div style="font-size:8px;color:#666;margin-bottom:6px;text-align:center">Create powerful custom cards with special abilities!</div>

        <!-- Basic Info -->
        <div style="font-size:9px;color:#ff8c00;margin:4px 0">ğŸ“ BASIC INFO</div>
        <div class="admin-row"><input type="text" id="ccName" placeholder="Card Name" style="flex:2"><input type="text" id="ccIcon" placeholder="Icon ğŸ¯" style="max-width:50px"></div>
        <div class="admin-row"><select id="ccType"><option value="troop">Troop</option><option value="spell">Spell</option><option value="building">Building</option></select><select id="ccRarity"><option value="common">Common</option><option value="rare">Rare</option><option value="epic">Epic</option><option value="legendary">Legendary</option><option value="champion">Champion</option></select></div>

        <!-- Core Stats -->
        <div style="font-size:9px;color:#ff8c00;margin:4px 0">âš”ï¸ CORE STATS</div>
        <div class="admin-row"><input type="number" id="ccCost" placeholder="Cost" style="max-width:45px"><input type="number" id="ccHP" placeholder="HP"><input type="number" id="ccDMG" placeholder="DMG"></div>
        <div class="admin-row"><input type="number" id="ccSpd" placeholder="Speed" step="0.1"><input type="number" id="ccRng" placeholder="Range" step="0.5"><input type="number" id="ccAS" placeholder="Atk Spd" step="0.1"></div>
        <div class="admin-row"><input type="number" id="ccCnt" placeholder="Spawn Count" style="max-width:70px"><input type="number" id="ccSpl" placeholder="Splash" step="0.5"><input type="number" id="ccRadius" placeholder="Spell Radius"></div>

        <!-- Target Flags -->
        <div style="font-size:9px;color:#ff8c00;margin:4px 0">ğŸ¯ TARGETING</div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="ccAir"> Air Target</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="ccFly"> Flying</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="ccBldg"> Target Bldg</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="ccCharge"> Charge</label>
        </div>

        <!-- Heal & Support -->
        <div style="font-size:9px;color:#2ecc71;margin:4px 0">ğŸ’š HEAL & SUPPORT</div>
        <div class="admin-row"><input type="number" id="ccHeal" placeholder="Heal Amount"><input type="number" id="ccHealRadius" placeholder="Heal Radius" step="0.5"><input type="number" id="ccHealRate" placeholder="Heal/sec" step="0.1"></div>
        <div class="admin-row"><input type="number" id="ccRage" placeholder="Rage % Boost"><input type="number" id="ccRageDur" placeholder="Rage Duration" step="0.1"><label style="color:#888;font-size:8px"><input type="checkbox" id="ccClone"> Clone Spell</label></div>

        <!-- Crowd Control -->
        <div style="font-size:9px;color:#3498db;margin:4px 0">â„ï¸ CROWD CONTROL</div>
        <div class="admin-row"><input type="number" id="ccStun" placeholder="Stun (sec)" step="0.1"><input type="number" id="ccFreeze" placeholder="Freeze (sec)" step="0.1"><input type="number" id="ccKnockback" placeholder="Knockback"></div>
        <div class="admin-row"><input type="number" id="ccSlow" placeholder="Slow %" step="5"><input type="number" id="ccSlowDur" placeholder="Slow Duration" step="0.1"></div>

        <!-- Damage Over Time -->
        <div style="font-size:9px;color:#9b59b6;margin:4px 0">â˜ ï¸ DAMAGE OVER TIME</div>
        <div class="admin-row"><input type="number" id="ccPoison" placeholder="Poison DPS"><input type="number" id="ccPoisonDur" placeholder="Poison Duration" step="0.5"><input type="number" id="ccPoisonRadius" placeholder="Poison Radius" step="0.5"></div>
        <div class="admin-row"><input type="number" id="ccBurn" placeholder="Burn DPS"><input type="number" id="ccBurnDur" placeholder="Burn Duration" step="0.5"></div>

        <!-- Defense -->
        <div style="font-size:9px;color:#f39c12;margin:4px 0">ğŸ›¡ï¸ DEFENSE</div>
        <div class="admin-row"><input type="number" id="ccShield" placeholder="Shield HP"><input type="number" id="ccLifesteal" placeholder="Lifesteal %" step="5"><label style="color:#888;font-size:8px"><input type="checkbox" id="ccInvuln"> Spawn Invuln</label></div>

        <!-- Death Effects -->
        <div style="font-size:9px;color:#e74c3c;margin:4px 0">ğŸ’€ DEATH EFFECTS</div>
        <div class="admin-row"><input type="number" id="ccDeathDmg" placeholder="Death DMG"><input type="number" id="ccDeathRadius" placeholder="Death Radius" step="0.5"><input type="number" id="ccDeathSpawn" placeholder="Death Spawn Count"></div>
        <div class="admin-row"><select id="ccDeathSpawnCard" style="flex:2"><option value="">No Death Spawn</option></select></div>

        <!-- Spawner/Building -->
        <div style="font-size:9px;color:#00bcd4;margin:4px 0">ğŸ  BUILDING/SPAWNER</div>
        <div class="admin-row"><input type="number" id="ccLifetime" placeholder="Lifetime (sec)"><input type="number" id="ccSpawnInterval" placeholder="Spawn Interval" step="0.5"></div>
        <div class="admin-row"><select id="ccSpawnCard" style="flex:2"><option value="">No Spawn Card</option></select><input type="number" id="ccSpawnCnt" placeholder="Spawn #" style="max-width:50px"></div>
        <!-- Elixir Pump -->
        <div style="font-size:9px;color:#9b59b6;margin:4px 0">ğŸ§ª ELIXIR PUMP</div>
        <div class="admin-row"><input type="number" id="ccElixirGen" placeholder="Elixir per Tick" step="0.5"><input type="number" id="ccElixirInterval" placeholder="Interval (sec)" step="0.5"></div>

        <!-- Special Abilities -->
        <div style="font-size:9px;color:#ff0080;margin:4px 0">âš¡ SPECIAL ABILITIES</div>
        <div class="admin-row">
          <select id="ccAbility" style="flex:2">
            <option value="">No Special Ability</option>
            <option value="dash">Dash Attack (10 hits)</option>
            <option value="shadow">Shadow Mode (Invisible)</option>
            <option value="rage">Rage Aura</option>
            <option value="heal">Heal Aura</option>
            <option value="explode">Explode on Death</option>
            <option value="split">Split on Death</option>
            <option value="phoenix">Phoenix Revive</option>
            <option value="tornado">Tornado Pull</option>
            <option value="lightning">Chain Lightning</option>
            <option value="reflect">Damage Reflect</option>
            <option value="teleport">Teleport Strike</option>
            <option value="summon">Summon Allies</option>
          </select>
        </div>
        <div class="admin-row"><input type="text" id="ccAbilityDesc" placeholder="Ability Description" style="flex:2"></div>

        <!-- Graveyard/Tornado Effects -->
        <div style="font-size:9px;color:#9b59b6;margin:4px 0">ğŸŒ€ AREA EFFECTS</div>
        <div class="admin-row"><input type="number" id="ccGraveyardCnt" placeholder="Graveyard Spawns"><input type="number" id="ccTornadoPull" placeholder="Tornado Pull Str" step="0.1"><input type="number" id="ccAreaDur" placeholder="Area Duration" step="0.5"></div>

        <!-- Zap Chain -->
        <div style="font-size:9px;color:#f1c40f;margin:4px 0">âš¡ CHAIN/BOUNCE</div>
        <div class="admin-row"><input type="number" id="ccChainCount" placeholder="Chain/Bounce #"><input type="number" id="ccChainDmgMult" placeholder="Chain DMG %" step="5"><input type="number" id="ccChainRange" placeholder="Chain Range" step="0.5"></div>

        <!-- Create/Delete -->
        <div class="admin-row" style="margin-top:8px"><button class="cyan full" onclick="createCustomCard()">âœ¨ CREATE CARD</button></div>
        <div class="admin-row"><button class="orange" onclick="previewCustomCard()" style="flex:1">ğŸ‘ï¸ Preview</button><button class="purple" onclick="loadCardTemplate()" style="flex:1">ğŸ“‹ Templates</button></div>
        <div class="admin-row"><select id="deleteCardSelect"></select><button class="orange" onclick="editCustomCard()">âœï¸ EDIT</button><button class="red" onclick="deleteCustomCard()">ğŸ—‘ï¸ DELETE</button></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">ğŸ“‹ META DECKS</div>
        <div class="admin-row">
          <input type="text" id="metaDeckName" placeholder="Deck Name" style="flex:2">
          <select id="metaDeckTier" style="flex:1">
            <option value="S">S</option>
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
            <option value="F">F</option>
          </select>
        </div>
        <div class="admin-row">
          <input type="number" id="metaDeckWinRate" placeholder="Win %" min="0" max="100" style="flex:1">
          <input type="number" id="metaDeckUseRate" placeholder="Use %" min="0" max="100" style="flex:1">
        </div>
        <div class="admin-row">
          <input type="text" id="metaDeckDesc" placeholder="Description" style="flex:1">
        </div>
        <div style="font-size:9px;color:#888;margin:5px 0">Cards from your current deck will be used</div>
        <div class="admin-row">
          <button class="purple full" onclick="createMetaDeck()">â• CREATE META DECK</button>
        </div>
        <div class="admin-row">
          <select id="deleteMetaDeckSelect" style="flex:2"></select>
          <button class="red" onclick="deleteMetaDeck()">ğŸ—‘ï¸ DELETE</button>
        </div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">ğŸ® CUSTOM GAME MODE CREATOR</div>
        <div style="font-size:8px;color:#666;margin-bottom:6px;text-align:center">Create unique battle modes with custom rules!</div>

        <!-- Basic Info -->
        <div style="font-size:9px;color:#ff8c00;margin:4px 0">ğŸ“ BASIC INFO</div>
        <div class="admin-row"><input type="text" id="gmName" placeholder="Mode Name" style="flex:2"><input type="text" id="gmIcon" placeholder="Icon ğŸ¯" style="max-width:50px"></div>
        <div class="admin-row"><input type="text" id="gmDesc" placeholder="Description" style="flex:1"></div>

        <!-- Time Settings -->
        <div style="font-size:9px;color:#3498db;margin:4px 0">â±ï¸ TIME SETTINGS</div>
        <div class="admin-row">
          <input type="number" id="gmDuration" placeholder="Duration (sec)" value="180" style="flex:1">
          <input type="number" id="gmOvertime" placeholder="Overtime" value="60" style="flex:1">
        </div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmInfiniteTime"> Infinite Time</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmSuddenDeath"> Sudden Death</label>
        </div>

        <!-- Elixir Settings -->
        <div style="font-size:9px;color:#9b59b6;margin:4px 0">ğŸ§ª ELIXIR SETTINGS</div>
        <div class="admin-row">
          <input type="number" id="gmStartElixir" placeholder="Start" value="5" style="flex:1" min="0" max="10">
          <input type="number" id="gmMaxElixir" placeholder="Max" value="10" style="flex:1" min="1" max="20">
          <input type="number" id="gmElixirRate" placeholder="Rate x" value="1" step="0.1" style="flex:1" min="0.1" max="10">
        </div>
        <div class="admin-row">
          <input type="number" id="gmDoubleElixirTime" placeholder="2x Elixir @" value="60" style="flex:1">
          <input type="number" id="gmTripleElixirTime" placeholder="3x Elixir @" value="120" style="flex:1">
        </div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmInfiniteElixir"> Infinite Elixir</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmStartFull"> Start Full</label>
        </div>

        <!-- Tower Settings -->
        <div style="font-size:9px;color:#e74c3c;margin:4px 0">ğŸ° TOWER SETTINGS</div>
        <div class="admin-row">
          <input type="number" id="gmTowerHP" placeholder="HP %" value="100" style="flex:1" min="1" max="1000">
          <input type="number" id="gmTowerDMG" placeholder="DMG %" value="100" style="flex:1" min="0" max="500">
          <input type="number" id="gmKingHP" placeholder="King %" value="100" style="flex:1" min="1" max="1000">
        </div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmNoTowers"> No Princess Towers</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmKingOnly"> King Only</label>
        </div>

        <!-- Troop Settings -->
        <div style="font-size:9px;color:#2ecc71;margin:4px 0">âš”ï¸ TROOP SETTINGS</div>
        <div class="admin-row">
          <input type="number" id="gmTroopHP" placeholder="HP %" value="100" style="flex:1" min="1" max="1000">
          <input type="number" id="gmTroopDMG" placeholder="DMG %" value="100" style="flex:1" min="1" max="1000">
          <input type="number" id="gmTroopSpd" placeholder="Speed %" value="100" style="flex:1" min="10" max="500">
        </div>
        <div class="admin-row">
          <input type="number" id="gmSpawnMult" placeholder="Spawn x" value="1" step="1" style="flex:1" min="1" max="10">
          <input type="number" id="gmCostMult" placeholder="Cost %" value="100" style="flex:1" min="10" max="200">
        </div>

        <!-- Bot Settings -->
        <div style="font-size:9px;color:#f39c12;margin:4px 0">ğŸ¤– BOT SETTINGS</div>
        <div class="admin-row">
          <input type="number" id="gmBotLevel" placeholder="Bot Lv" value="0" style="flex:1" min="0" max="15">
          <input type="number" id="gmBotMult" placeholder="Bot %" value="100" style="flex:1" min="10" max="500">
          <input type="number" id="gmBotSpeed" placeholder="AI Speed" value="100" style="flex:1" min="10" max="300">
        </div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmBotDisabled"> Disable Bot</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmBotAggressive"> Aggressive AI</label>
        </div>

        <!-- Card Settings -->
        <div style="font-size:9px;color:#00bcd4;margin:4px 0">ğŸ´ CARD SETTINGS</div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmAllCards"> All Cards Unlocked</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmRandomDeck"> Random Deck</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmDraftMode"> Draft Mode</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmMirrorMode"> Mirror Mode</label>
        </div>
        <div class="admin-row">
          <select id="gmCardFilter" style="flex:1">
            <option value="all">All Card Types</option>
            <option value="troops">Troops Only</option>
            <option value="spells">Spells Only</option>
            <option value="buildings">Buildings Only</option>
            <option value="legendary">Legendaries Only</option>
            <option value="champion">Champions Only</option>
          </select>
        </div>

        <!-- Special Modifiers -->
        <div style="font-size:9px;color:#ff0080;margin:4px 0">âš¡ SPECIAL MODIFIERS</div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmRageMode"> Rage Mode</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmChaosEvents"> Chaos Events</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmDoubleTroops"> Double Troops</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmGiantMode"> Giant Mode</label>
        </div>
        <div class="admin-row" style="flex-wrap:wrap;gap:3px">
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmMiniMode"> Mini Mode</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmFragileMode"> Fragile (1-hit KO)</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmTankMode"> Tank Mode</label>
          <label style="color:#888;font-size:8px;white-space:nowrap"><input type="checkbox" id="gmSpeedMode"> Speed Mode</label>
        </div>

        <!-- Rewards -->
        <div style="font-size:9px;color:#ffd700;margin:4px 0">ğŸ† REWARDS</div>
        <div class="admin-row">
          <input type="number" id="gmTrophyMult" placeholder="Trophy %" value="100" style="flex:1" min="0" max="500">
          <input type="number" id="gmGoldMult" placeholder="Gold %" value="100" style="flex:1" min="0" max="500">
          <input type="number" id="gmXpMult" placeholder="XP %" value="100" style="flex:1" min="0" max="500">
        </div>

        <!-- Actions -->
        <div class="admin-row" style="margin-top:8px"><button class="cyan full" onclick="createCustomGameMode()">ğŸ® CREATE GAME MODE</button></div>
        <div class="admin-row"><button class="orange" onclick="previewGameMode()" style="flex:1">ğŸ‘ï¸ Preview</button><button class="purple" onclick="loadGameModeTemplate()" style="flex:1">ğŸ“‹ Templates</button></div>
        <div class="admin-row"><select id="deleteGameModeSelect" style="flex:1"></select><button class="orange" onclick="editGameMode()">âœï¸</button><button class="red" onclick="deleteCustomGameMode()">ğŸ—‘ï¸</button></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">ğŸ‘® PLAYER MANAGEMENT</div>
        <div class="admin-row">
          <input type="text" id="banUsername" placeholder="Username" style="flex:2">
          <button class="red" onclick="banPlayer()">ğŸš« BAN</button>
        </div>
        <div class="admin-row">
          <input type="text" id="unbanUsername" placeholder="Username" style="flex:2">
          <button class="cyan" onclick="unbanPlayer()">âœ… UNBAN</button>
        </div>
        <div style="font-size:9px;color:#f39c12;margin:8px 0 4px">ğŸ”‘ PASSWORD RESET</div>
        <div class="admin-row">
          <input type="text" id="resetPwUsername" placeholder="Username" style="flex:1">
          <input type="text" id="resetPwNew" placeholder="New Password" style="flex:1">
          <button class="orange" onclick="resetPlayerPassword()">ğŸ”‘ RESET</button>
        </div>
        <div class="admin-row"><button class="purple full" onclick="loadPlayerList()">ğŸ“‹ VIEW ALL PLAYERS</button></div>
        <div id="playerListContainer" style="max-height:150px;overflow-y:auto;margin-top:8px;display:none"></div>
      </div>
      <div class="admin-section">
        <div class="admin-section-title">âš ï¸ DANGER ZONE</div>
        <div class="admin-row"><button class="red full" onclick="resetGame()">ğŸ—‘ï¸ RESET ALL DATA</button></div>
      </div>
    </div>
    <button class="admin-close" onclick="closeAdmin()">âœ– CLOSE</button>
  </div>
</div>
<script src="js/game.js"></script>
</body>
</html>
